代码功能
该代码实现了一个基于mega2560、 AS5600 角度传感器和 双向电调的闭环控制系统，核心功能是通过 PID 算法控制电机转动到目标角度，并支持通过串口进行远程控制。具体功能包括：
传感器数据采集：通过 I2C 读取 AS5600 角度传感器的原始角度，经中值滤波处理后得到稳定的当前角度，并计算实时转速。
PID 闭环控制：根据当前角度与目标角度的偏差，通过 PID 算法计算控制量，转换为电调脉宽信号，控制电机正转 / 反转，使角度稳定到目标值。
状态管理：支持电机启动 / 停止、目标角度设置状态切换。
串口交互：通过串口接收命令（如设置目标角度、调整 PID 参数、停止电机等），并实时反馈系统状态（当前角度、目标角度、运行状态等）。
性能监控：统计并报告系统运行性能（每秒主循环次数、采样次数），用于调试和优化。

模块名称				核心函数 / 组件						作用描述
传感器模块		readAngle()、medianFilter()			读取 AS5600 角度传感器数据，通过中值滤波减少噪声，提供稳定的角度输入。
控制算法模块		pidControl()、calcAngleDiff()			实现 PID 控制逻辑，计算角度偏差（处理 360 度循环），输出控制量到电调。
电机驱动模块		Servo esc、setTarget()、stopMotor()		控制 ESC 电调，将 PID 输出转换为脉宽信号，实现电机正转 / 反转 / 停止。
串口通信模块		parseCommand()、sendStatus()		解析串口命令（如设置角度、调整 PID），实时反馈系统状态（角度、目标、PID 输出）。
系统调度模块		loop()中的任务调度逻辑			按时间间隔执行采样、PID 计算、状态反馈等任务，确保系统实时性。
统计模块			reportStats()、Stats结构体			统计主循环次数、采样次数，每秒输出一次，监控系统运行性能。

┌───────────────┐
│   setup()初始化  │
│  - 串口/I2C初始化 │
│  - 电调初始化    │
│  - 设置初始目标  │
└───────┬───────┘
        ▼
┌───────────────┐
│   loop()主循环   │
│  (循环执行以下任务) │
├───────┬───────┤
│  采样任务       │ 检查是否到达采样间隔 → 读取原始角度 → 滤波 → 计算转速
├───────┼───────┤
│  PID控制任务    │ 检查是否到达PID间隔 → 计算角度偏差 → 执行PID计算 → 输出脉宽到电调
├───────┼───────┤
│  串口命令解析    │ 检查串口是否有数据 → 解析命令（STOP/ANGLE等）→ 执行对应操作
├───────┼───────┤
│  状态反馈任务    │ 检查是否到达反馈间隔 → 发送当前角度/目标/状态到串口
├───────┼───────┤
│  性能统计任务    │ 检查是否到达统计间隔 → 计算并输出每秒循环/采样次数
└───────┴───────┘
        │
        ▼ (循环往复)
